!function(t,e){"function"==typeof define&&define.amd?define(["jquery","dot"],e):"function"==typeof exports?module.exports=e(require("jquery"),require("dot")):e(t.jQuery||t.Zepto,doT)}(this,function(t,e){function n(t,n){this.$el=t,this.options=n||{},this.renderFun=e.template(t.html())}function r(e){var r=t(this),o=r.data("cache");return o||(o=Math.random().toString(16).substring(2),s[o]=new n(r,e)),s[o]}function o(t,e){this._elements=t,this._renders=[];var n=this;t.each(function(){n._renders.push(r.call(this,e))})}var i={method:"append",target:null},s={};n.$ALLOW_FUN="append,prepend,after,before,html".split(",");var u=n.prototype;u.render=function(t,e){var n=this.renderFun(t);return"function"==typeof e&&e(n),this._autoRender(n),n},u._autoRender=function(e){var r=this.options.target||this.$el.data("target")||this.$el.attr("target"),o=this.options.method||this.$el.data("method")||this.$el.attr("method");r&&o&&(-1===n.$ALLOW_FUN.indexOf(o)&&console.warn("may not support methods : "+o),t(r)[o](t(e)))};var a=o.prototype;a.render=function(t,e){for(var n="function"!=typeof e,r=null,o=[],i=this._renders,s=0,u=this._renders.length;u>s;s++){if(r=i[s].render(t,e),n)return r;o.push(r)}return o},t.fn.dot=function(t){return new o(this,t)},t.fn.dot["default"]=i});